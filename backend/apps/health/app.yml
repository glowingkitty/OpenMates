name_translation_key: health
description_translation_key: health.description
icon_image: |
  heart.svg
category: personal
last_updated: "2025-11-12"
settings_and_memories:
  - id: appointments
    name_translation_key: health.appointments
    description_translation_key: health.appointments.description
    type: list
    stage: production
    example_translation_keys:
      - "health.appointments.example_1"
      - "health.appointments.example_2"
    schema:
      type: object
      properties:
        title:
          type: string
          description: Auto-generated from type, where, and date
          is_title: true
          auto_generated: true
        appointment_type:
          type: string
          enum:
            - doctor_visit
            - operation
            - specialist
            - dental
            - eye_care
            - therapy
            - vaccination
            - other
          description: Type of appointment
        where:
          type: string
          description: Doctor or clinic name
        date:
          type: string
          format: date
          description: YYYY-MM-DD
        notes:
          type: string
          description: Optional notes (reason, location, contact, etc.)
      required:
        - appointment_type
        - date
  - id: medical_history
    name_translation_key: health.medical_history
    description_translation_key: health.medical_history.description
    type: list
    stage: production
    example_translation_keys:
      - "health.medical_history.example_1"
      - "health.medical_history.example_2"
    schema:
      type: object
      properties:
        condition_type:
          type: string
          enum:
            - surgery
            - chronic_condition
            - allergy
            - medication
            - vaccination
            - injury
            - other
          description: Type of medical event
        name:
          type: string
          description: Name of condition, medication, or surgery
          is_title: true
        date:
          type: string
          format: date
          description: YYYY-MM-DD when it occurred or started
        details:
          type: string
          description: Optional details (status, doctor, treatment notes)
      required:
        - condition_type
        - name
        - date
  - id: symptoms_log
    name_translation_key: health.symptoms_log
    description_translation_key: health.symptoms_log.description
    type: list
    stage: planning
    schema:
      type: object
      properties:
        symptom:
          type: string
          description: Name of the symptom
        date_onset:
          type: string
          format: date
          description: YYYY-MM-DD when symptom started
        severity:
          type: string
          enum:
            - mild
            - moderate
            - severe
          description: Severity level
        frequency:
          type: string
          enum:
            - occasional
            - intermittent
            - constant
          description: How often it occurs
        notes:
          type: string
          description: Additional details about the symptom
      required:
        - symptom
        - date_onset
  - id: sleep_diary
    name_translation_key: health.sleep_diary
    description_translation_key: health.sleep_diary.description
    type: list
    stage: planning
    schema:
      type: object
      properties:
        date:
          type: string
          format: date
          description: YYYY-MM-DD date of the sleep period (typically when sleep started)
        bedtime:
          type: string
          format: time
          description: HH:MM time when user went to bed in 24-hour format
        wake_time:
          type: string
          format: time
          description: HH:MM time when user woke up in 24-hour format
        sleep_duration_hours:
          type: number
          description:
            Total hours of sleep (can be calculated from bedtime/wake_time
            or manually entered)
        sleep_quality:
          type: string
          enum:
            - poor
            - fair
            - good
            - excellent
          description: Overall sleep quality rating
        notes:
          type: string
          description:
            Additional notes about the sleep period (dreams, restlessness,
            specific disturbances, etc.)
      required:
        - date
skills:
  - id: search_appointments
    name_translation_key: app_skills.health.search_appointments
    description_translation_key: app_skills.health.search_appointments.description
    preprocessor_hint: >
      Search for available doctor/specialist appointments by speciality and city.
       Returns real-time availability with direct booking links. Costs 10 credits per search.
    stage: production
    class_path: backend.apps.health.skills.search_appointments_skill.SearchAppointmentsSkill
    pricing:
      per_unit:
        credits: 10
    providers:
      - Doctolib
    exclude_fields_for_llm:
      - type
      - hash
      - visit_motive_id
      - agenda_id
      - practice_id
    suggestions_follow_up_requests:
      - Filter for telehealth appointments only
      - Search for private insurance options
      - Find an earlier appointment
      - Show doctors who speak English
    tool_schema:
      type: object
      properties:
        requests:
          type: array
          description: >
            Array of appointment search requests. Each request searches for
            available doctor appointments for a given speciality and city.
          items:
            type: object
            properties:
              speciality:
                type: string
                description: >
                  Doctor speciality or type. Supports German and English names.
                  Examples: "augenarzt", "hautarzt", "allgemeinmedizin", "zahnarzt",
                  "gynäkologie", "kardiologie", "orthopädie", "neurologie",
                  "kinderarzt", "hno", "physiotherapie", "urologie",
                  "ophthalmologist", "dermatologist", "general_practitioner",
                  "dentist", "cardiologist", "neurologist", "pediatrician".
              city:
                type: string
                description: >
                  City where to search for appointments. Supports German and English
                  city names. Examples: "Berlin", "München", "Munich", "Hamburg",
                  "Köln", "Frankfurt", "Stuttgart", "Düsseldorf", "Dresden",
                  "Leipzig", "Hannover", "Nürnberg", "Bonn", "Heidelberg".
              provider_platform:
                type: string
                description: >
                  Booking platform to search. Currently supported: "doctolib_de"
                  (Doctolib Germany). Future: "jameda", "doctolib_fr", "zocdoc".
                enum:
                  - doctolib_de
                default: doctolib_de
              insurance_sector:
                type: string
                description: >
                  Insurance type filter. "public" for gesetzliche Krankenversicherung
                  (GKV), "private" for private Krankenversicherung (PKV).
                  Omit to show results for all insurance types.
                enum:
                  - public
                  - private
              telehealth:
                type: boolean
                description: >
                  If true, only return doctors offering telehealth (video consultation)
                  appointments. Defaults to false.
                default: false
              language:
                type: string
                description: >
                  Filter for doctors who speak a specific language.
                  Language codes: "de" (German), "gb" (English), "ru" (Russian),
                  "tr" (Turkish), "ar" (Arabic), "fr" (French), "es" (Spanish),
                  "it" (Italian), "pl" (Polish), "ro" (Romanian), "zh" (Chinese).
              days_ahead:
                type: integer
                description: >
                  How many days ahead to search for appointments. Must be one of
                  1, 3, 7, or 14 (Doctolib API constraint). Defaults to 7.
                enum:
                  - 1
                  - 3
                  - 7
                  - 14
                default: 7
              max_doctors:
                type: integer
                description: >
                  Maximum number of doctors to check for availability. Higher values
                  return more results but take longer. Defaults to 10.
                default: 10
            required:
              - speciality
              - city
      required:
        - requests

  - id: create_report
    name_translation_key: health.create_report
    description_translation_key: health.create_report.description
    stage: planning

focuses:
  - id: prepare_doctor_report
    name_translation_key: health.prepare_doctor_report
    description_translation_key: health.prepare_doctor_report.description
    stage: planning
  - id: health_insights
    name_translation_key: health.health_insights
    description_translation_key: health.health_insights.description
    stage: planning
  - id: prepare_doctor_appointment
    name_translation_key: health.prepare_doctor_appointment
    description_translation_key: health.prepare_doctor_appointment.description
    stage: planning
