name_translation_key: web.text
description_translation_key: web.description.text
icon_image: |
  web.svg
category: work
last_updated: "2025-11-12"
settings_and_memories:
  # Bookmarks: Simple URL storage, just need the URL
  - id: bookmarks
    name_translation_key: web.bookmarks.text
    description_translation_key: web.bookmarks.description.text
    type: list
    stage: development
    example_translation_keys:
      - "web.bookmarks.example_1.text"
      - "web.bookmarks.example_2.text"
      - "web.bookmarks.example_3.text"
    schema:
      type: object
      properties:
        url:
          type: string
          description: Website URL to bookmark
      required:
        - url
  # Favorite websites: Just URL, can be expanded later
  - id: favorite_websites
    name_translation_key: web.favorite_websites.text
    description_translation_key: web.favorite_websites.description.text
    type: list
    stage: development
    example_translation_keys:
      - "web.favorite_websites.example_1.text"
      - "web.favorite_websites.example_2.text"
      - "web.favorite_websites.example_3.text"
    schema:
      type: object
      properties:
        url:
          type: string
          description: Website URL to save as favorite
      required:
        - url
  # Read later: URL + optional notes
  - id: read_later
    name_translation_key: web.read_later.text
    description_translation_key: web.read_later.description.text
    type: list
    stage: development
    example_translation_keys:
      - "web.read_later.example_1.text"
      - "web.read_later.example_2.text"
      - "web.read_later.example_3.text"
    schema:
      type: object
      properties:
        url:
          type: string
          description: Website URL to read later
        notes:
          type: string
          description: Optional notes about why this was saved
      required:
        - url
instructions:
  # This instruction is ALWAYS loaded when web app is available (no category filter)
  # It provides guidance on using web-search and web-read skills
  - instruction: |
      **Web Skills**

      - **web-search**: Search for current info. Use ONE search query per request (multiple only if user explicitly asks to compare/search multiple things).
      - **web-read**: Read content from URLs the user provides. Prefer this over searching when a URL is given.

      **Important:** Prefer specialized tools (`code-get_docs`, `news-search`, `videos-search`, `maps-search`) over web-search when they match the query type.

  # This instruction is only loaded when the conversation category is software_development
  - instruction: |
      For API/library documentation, prefer `code-get_docs` over web search.
    categories:
      - software_development
skills:
  - id: search
    name_translation_key: web.search.text
    description_translation_key: web.search.description.text
    preprocessor_hint: >
      General web search for current information, prices, weather, facts, stocks, sports scores, etc.
      Use as a fallback when no specialized skill applies.
    stage: production
    class_path: |
      backend.apps.web.skills.search_skill.SearchSkill
    providers:
      - Brave
    # Follow-up suggestions shown to users after search results
    suggestions_follow_up_requests:
      - "Search more in depth"
      - "Create a PDF report"
      - "Get more recent results"
    # Fields to exclude from LLM inference (but keep in full results for UI rendering)
    # These fields are removed before adding to message history for LLM processing
    # but remain in the full response stored in chat history for proper UI rendering
    exclude_fields_for_llm:
      - "type"
      - "hash"
      - "meta_url.favicon"
      - "thumbnail.original"
    tool_schema:
      type: object
      properties:
        requests:
          type: array
          description: |
            REQUIRED: Array of search request objects for parallel processing (up to 5 requests). 
            This parameter is MANDATORY - you MUST always provide a 'requests' array, even for a single search.
            Example for single search: {"requests": [{"query": "Python async"}]}
            Example for multiple searches: {"requests": [{"query": "Python async"}, {"query": "FastAPI best practices"}]}
            Each object must contain 'query' (search query string), and can include optional parameters (count, country, search_lang, safesearch).
            Note: The 'id' field is auto-generated if not provided - you don't need to include it.
          items:
            type: object
            properties:
              query:
                type: string
                description: Search query string
              count:
                type: integer
                description: Number of results for this request (max 20)
                minimum: 1
                maximum: 20
                default: 10
              country:
                type: string
                description: "Country code for localized results. Must be one of: AR, AU, AT, BE, BR, CA, CL, DK, FI, FR, DE, GR, HK, IN, ID, IT, JP, KR, MY, MX, NL, NZ, NO, CN, PL, PT, PH, RU, SA, ZA, ES, SE, CH, TW, TR, GB, US, or ALL (case-insensitive). Defaults to 'us' if invalid."
                enum:
                  [
                    "AR",
                    "AU",
                    "AT",
                    "BE",
                    "BR",
                    "CA",
                    "CL",
                    "DK",
                    "FI",
                    "FR",
                    "DE",
                    "GR",
                    "HK",
                    "IN",
                    "ID",
                    "IT",
                    "JP",
                    "KR",
                    "MY",
                    "MX",
                    "NL",
                    "NZ",
                    "NO",
                    "CN",
                    "PL",
                    "PT",
                    "PH",
                    "RU",
                    "SA",
                    "ZA",
                    "ES",
                    "SE",
                    "CH",
                    "TW",
                    "TR",
                    "GB",
                    "US",
                    "ALL",
                    "ar",
                    "au",
                    "at",
                    "be",
                    "br",
                    "ca",
                    "cl",
                    "dk",
                    "fi",
                    "fr",
                    "de",
                    "gr",
                    "hk",
                    "in",
                    "id",
                    "it",
                    "jp",
                    "kr",
                    "my",
                    "mx",
                    "nl",
                    "nz",
                    "no",
                    "cn",
                    "pl",
                    "pt",
                    "ph",
                    "ru",
                    "sa",
                    "za",
                    "es",
                    "se",
                    "ch",
                    "tw",
                    "tr",
                    "gb",
                    "us",
                    "all",
                  ]
                default: "us"
              search_lang:
                type: string
                description: Language code for search (ISO 639-1, e.g., 'en', 'es', 'fr')
                default: "en"
              safesearch:
                type: string
                description: Safe search level
                enum: ["off", "moderate", "strict"]
                default: "moderate"
            required:
              - query
      required:
        - requests
  - id: read
    name_translation_key: web.read.text
    description_translation_key: web.read.description.text
    preprocessor_hint: >
      Read and extract content from a specific URL or webpage the user provided.
    stage: production
    class_path: |
      backend.apps.web.skills.read_skill.ReadSkill
    providers:
      - Firecrawl
    # Follow-up suggestions shown to users after read results
    suggestions_follow_up_requests:
      - "Summarize this page"
      - "Extract key points"
      - "Read related pages"
    # Fields to exclude from LLM inference (but keep in full results for UI rendering)
    # These fields are removed before adding to message history for LLM processing
    # but remain in the full response stored in chat history for proper UI rendering
    # Note: HTML and summary are completely removed from output.
    # Metadata object is removed - specific fields (language, favicon, og_image, og_sitename)
    # are moved to root level of each result for easier access.
    exclude_fields_for_llm:
      - "type"
      - "hash"
      - "favicon" # Favicon URL not needed for LLM inference
      - "og_image" # OG image URL not needed for LLM inference
      - "og_sitename" # OG site name not needed for LLM inference
    tool_schema:
      type: object
      properties:
        requests:
          type: array
          description: |
            REQUIRED: Array of read request objects for parallel processing (up to 5 requests). 
            This parameter is MANDATORY - you MUST always provide a 'requests' array, even for a single URL.
            Example for single URL: {"requests": [{"id": 1, "url": "https://example.com/article"}]}
            Example for multiple URLs: {"requests": [{"id": 1, "url": "https://example.com/article1"}, {"id": 2, "url": "https://example.com/article2"}]}
            Each object must contain 'id' (unique identifier) and 'url' (webpage URL), and can include optional parameters (formats, only_main_content, max_age, timeout).
          items:
            type: object
            properties:
              url:
                type: string
                description: URL of the webpage to read/scrape
              formats:
                type: array
                description: List of output formats to include (e.g., 'markdown', 'html', 'summary')
                items:
                  type: string
                default: ["markdown"]
              only_main_content:
                type: boolean
                description: Whether to return only main content (excluding headers, navs, footers, etc.)
                default: true
              max_age:
                type: integer
                description: "Cache age in milliseconds (default: 172800000 = 2 days). Returns cached version if available."
              timeout:
                type: integer
                description: Timeout in milliseconds for the request
            required:
              - url
      required:
        - requests
focuses:
  - id: check_reputation
    name_translation_key: web.check_reputation.text
    description_translation_key: web.check_reputation.description.text
    stage: planning
    process:
      - check if a business exist on trustpilot and what its rating is
      - check on whois.com if the website is nearky registered
      - use trustpilot, whois.com and othet sites ro identify scams and business with bad customer ratings
    systemprompt: |
      You are an expert on identifying scams vs legit businesses.
  - id: analyze_privacy
    name_translation_key: web.analyze_privacy.text
    description_translation_key: web.analyze_privacy.description.text
    stage: planning
    process:
      - gets the legal pages of a website
      - analyzes the legal pages for privacy implications
      - creates a report based on the findings
      - asks the user if they want to proceed with the service based on the privacy implications or if they have additional questions
    systemprompt: |
      You are an expert on privacy analysis and data protection. Your role is to analyze legal pages (terms of service, privacy policy, cookie policy) and identify privacy implications, data collection practices, and potential risks for users.
  - id: research
    name_translation_key: web.research.text
    description_translation_key: web.research.description.text
    stage: development
    preprocessor_hint: >
      Select when the user wants in-depth research on a topic, asks to investigate or analyze something thoroughly,
      or needs comprehensive information gathered from multiple web sources.
    systemprompt: |
      You are an expert researcher. Your role is to conduct thorough web research by making multiple searches to understand a topic comprehensively, including its causes, effects, and broader context.
  - id: deep_web_research
    name_translation_key: web.deep_web_research.text
    description_translation_key: web.deep_web_research.description.text
    stage: planning
    process:
      - asks user multiple clearifying questions, then creates a list of requirements / priorities / search terms
      - then starts in depth web searches for the search terms and creates a report based on the findings
    systemprompt: |
      You are an expert for deep web research.
