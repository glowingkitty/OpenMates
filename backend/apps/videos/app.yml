name_translation_key: videos
description_translation_key: videos.description
icon_image: |
  videos.svg
category: personal
last_updated: "2025-11-12"
settings_and_memories:
  - id: to_watch_list
    name_translation_key: videos.to_watch_list
    description_translation_key: videos.to_watch_list.description
    type: list
    stage: production
    example_translation_keys:
      - "videos.to_watch_list.example_1"
      - "videos.to_watch_list.example_2"
      - "videos.to_watch_list.example_3"
    schema:
      type: object
      properties:
        name:
          type: string
          description: Video name or title (user-defined, can be auto-generated later)
          is_title: true
        url:
          type: string
          description: Video URL
        channel:
          type: string
          description: Channel name (can be auto-filled later)
      required:
        - name
        - url
  - id: subscribed_channels
    name_translation_key: videos.subscribed_channels
    description_translation_key: videos.subscribed_channels.description
    type: list
    stage: planning
    example_translation_keys:
      - "videos.subscribed_channels.example_1"
      - "videos.subscribed_channels.example_2"
      - "videos.subscribed_channels.example_3"
    schema:
      type: object
      properties:
        name:
          type: string
          description: Channel name
        url:
          type: string
          description: YouTube Channel URL
        subscribed_date:
          type: integer
          description: Unix timestamp when subscribed
        category:
          type: string
          description: Content category (e.g., tech, music, education)
      required:
        - url
skills:
  - id: get_transcript
    name_translation_key: videos.get_transcript
    description_translation_key: videos.get_transcript.description
    preprocessor_hint: >
      Get the transcript/content of a specific YouTube video URL.
    stage: production
    class_path: |
      backend.apps.videos.skills.transcript_skill.TranscriptSkill
    providers:
      - YouTube
    # Fields to exclude from LLM inference (but keep in full results for UI rendering)
    # These fields are removed before adding to message history for LLM processing
    # but remain in the full response stored in chat history for proper UI rendering
    exclude_fields_for_llm:
      - "type"
      - "hash"
    tool_schema:
      type: object
      properties:
        requests:
          type: array
          description: |
            REQUIRED: Array of transcript request objects for parallel processing. 
            This parameter is MANDATORY - you MUST always provide a 'requests' array, even for a single transcript.
            Example for single transcript: {"requests": [{"url": "https://youtube.com/watch?v=abc123"}]}
            Example for multiple transcripts: {"requests": [{"url": "https://youtube.com/watch?v=abc123"}, {"url": "https://youtube.com/watch?v=def456"}]}
            Each object must contain 'url' (YouTube video URL), and can include optional parameters (languages).
            Note: The 'id' field is auto-generated if not provided - you don't need to include it.
          items:
            type: object
            properties:
              url:
                type: string
                description: YouTube video URL (supports youtube.com/watch?v= and youtu.be/ formats)
              languages:
                type: array
                description: List of language codes to try for transcript (ISO 639-1, e.g., 'en', 'de', 'es', 'fr'). The API will use the first available language.
                items:
                  type: string
                default: ["en", "de", "es", "fr"]
            required:
              - url
      required:
        - requests
  - id: search
    name_translation_key: videos.search
    description_translation_key: videos.search.description
    preprocessor_hint: >
      Search for videos, documentaries, tutorials, clips on the web.
    stage: production
    class_path: |
      backend.apps.videos.skills.search_skill.SearchSkill
    providers:
      - Brave
    # Follow-up suggestions shown to users after search results
    suggestions_follow_up_requests:
      - "Get transcript for this video"
      - "Search more videos"
      - "Watch related videos"
    # Fields to exclude from LLM inference (but keep in full results for UI rendering)
    # These fields are removed before adding to message history for LLM processing
    # but remain in the full response stored in chat history for proper UI rendering
    exclude_fields_for_llm:
      - "type"
      - "hash"
      - "meta_url.favicon"
      - "thumbnail.original"
    tool_schema:
      type: object
      properties:
        requests:
          type: array
          description: |
            REQUIRED: Array of search request objects for parallel processing (up to 5 requests). 
            This parameter is MANDATORY - you MUST always provide a 'requests' array, even for a single search.
            Example for single search: {"requests": [{"query": "Python tutorial"}]}
            Example for multiple searches: {"requests": [{"query": "Python tutorial"}, {"query": "FastAPI tutorial"}]}
            Each object must contain 'query' (search query string), and can include optional parameters (count, country, search_lang, safesearch).
            Note: The 'id' field is auto-generated if not provided - you don't need to include it.
          items:
            type: object
            properties:
              query:
                type: string
                description: Search query string
              count:
                type: integer
                description: Number of results for this request (max 20)
                minimum: 1
                maximum: 20
                default: 10
              country:
                type: string
                description: "Country code for localized results. Must be one of: AR, AU, AT, BE, BR, CA, CL, DK, FI, FR, DE, GR, HK, IN, ID, IT, JP, KR, MY, MX, NL, NZ, NO, CN, PL, PT, PH, RU, SA, ZA, ES, SE, CH, TW, TR, GB, US, or ALL (case-insensitive). Defaults to 'us' if invalid."
                enum:
                  [
                    "AR",
                    "AU",
                    "AT",
                    "BE",
                    "BR",
                    "CA",
                    "CL",
                    "DK",
                    "FI",
                    "FR",
                    "DE",
                    "GR",
                    "HK",
                    "IN",
                    "ID",
                    "IT",
                    "JP",
                    "KR",
                    "MY",
                    "MX",
                    "NL",
                    "NZ",
                    "NO",
                    "CN",
                    "PL",
                    "PT",
                    "PH",
                    "RU",
                    "SA",
                    "ZA",
                    "ES",
                    "SE",
                    "CH",
                    "TW",
                    "TR",
                    "GB",
                    "US",
                    "ALL",
                    "ar",
                    "au",
                    "at",
                    "be",
                    "br",
                    "ca",
                    "cl",
                    "dk",
                    "fi",
                    "fr",
                    "de",
                    "gr",
                    "hk",
                    "in",
                    "id",
                    "it",
                    "jp",
                    "kr",
                    "my",
                    "mx",
                    "nl",
                    "nz",
                    "no",
                    "cn",
                    "pl",
                    "pt",
                    "ph",
                    "ru",
                    "sa",
                    "za",
                    "es",
                    "se",
                    "ch",
                    "tw",
                    "tr",
                    "gb",
                    "us",
                    "all",
                  ]
                default: "us"
              search_lang:
                type: string
                description: Language code for search (ISO 639-1, e.g., 'en', 'es', 'fr')
                default: "en"
              safesearch:
                type: string
                description: Safe search level
                enum: ["off", "moderate", "strict"]
                default: "moderate"
            required:
              - query
      required:
        - requests
