server_stats_global_daily:
  type: collection
  fields:
    id:
      type: uuid
      primary: true
      
    date:
      type: string
      length: 10
      note: "[Unique, Indexed] Date in format 'YYYY-MM-DD'."
      
    # Incremental Totals
    new_users_registered:
      type: integer
      default: 0
      note: "Users who registered on this day."
      
    new_users_finished_signup:
      type: integer
      default: 0
      note: "Users who completed their first payment/gift card on this day."
      
    income_eur_cents:
      type: bigint
      default: 0
      note: "Total revenue in EUR cents received on this day."
      
    credits_sold:
      type: integer
      default: 0
      note: "Total credits purchased on this day."
      
    credits_used:
      type: integer
      default: 0
      note: "Total credits consumed by skills on this day."
      
    messages_sent:
      type: integer
      default: 0
      note: "Total messages sent by users on this day."

    chats_created:
      type: integer
      default: 0
      note: "Total chats created on this day."

    # Closing Snapshots (End of day state)
    liability_total:
      type: bigint
      default: 0
      note: "Total outstanding credit balance across all users at end of day."
      
    active_subscriptions:
      type: integer
      default: 0
      note: "Count of active Stripe subscriptions at end of day."
      
    total_regular_users:
      type: integer
      default: 0
      note: "Cumulative count of non-admin users at end of day."

    created_at:
      type: timestamp
      note: "Timestamp when record was created."
      
    updated_at:
      type: timestamp
      note: "Timestamp when record was last updated."