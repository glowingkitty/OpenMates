invoices:
  type: collection
  fields:
    id:
      type: uuid
      primary: true
      
    user_id_hash:
      type: string
      length: 512
      note: "Hash of the user ID who made the purchase"
      
    date:
      type: datetime
      
    encrypted_amount:
      type: string
      length: 512
      note: "Encrypted invoice amount"
      
    encrypted_s3_object_key:
      type: string
      length: 512
      note: "Encrypted S3 object key for the invoice"

    encrypted_aes_key:
      type: string
      length: 512
      note: "Encrypted AES key for the invoice"

    aes_nonce:
      type: string
      length: 512
      note: "Nonce used for AES encryption"
      
    encrypted_credits_purchased:
      type: string
      length: 512
      note: "Encrypted number of credits this invoice was for"
      
    encrypted_filename:
      type: string
      length: 512
      note: "Encrypted filename of the invoice"